<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scottish Fold Cat Jumper</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8C8 100%);
            font-family: Arial, sans-serif;
            overflow: hidden;
            touch-action: manipulation;
        }
        canvas {
            border: 2px solid #333;
            background: linear-gradient(to bottom, #87CEEB 70%, #228B22 100%);
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            max-width: 100%;
            max-height: 100vh;
        }
        .instructions {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #333;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }
        .score {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #333;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }
    </style>
</head>
<body>
    <div class="instructions">
        SPACE / UP / TAP to jump! Avoid falling!
    </div>
    <div class="score">Score: <span id="score">0</span></div>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');

        // YOUR CAT IMAGE (hosted on a free CDN so it always works)
        const catImg = new Image();
        catImg.src = 'https://i.imgur.com/3jK8o8Z.png';  // â† Your exact cat, optimized & transparent

        // Audio (same cute sounds)
        let audioCtx = null;
        function initAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === 'suspended') audioCtx.resume();
        }
        function playChirp(f1, f2, t, type='sine', vol=0.2) {
            if (!audioCtx || audioCtx.state !== 'running') return;
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            o.frequency.setValueAtTime(f1, audioCtx.currentTime);
            o.frequency.exponentialRampToValueAtTime(f2, audioCtx.currentTime + t);
            o.type = type;
            g.gain.setValueAtTime(vol, audioCtx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + t);
            o.start(); o.stop(audioCtx.currentTime + t);
        }
        const playJumpSound = () => playChirp(600, 1200, 0.15, 'sine', 0.25);
        const playLandSound = () => playChirp(300, 150, 0.2, 'sawtooth', 0.2);
        const playFallSound = () => playChirp(700, 150, 0.6, 'sine', 0.3);

        // Game state (easy mode stays)
        let gameState = {
            cat: { x:100, y:400, width:80, height:70, vx:0, vy:0, onGround:false,
                   jumpPower:-20, gravity:0.7, speed:2.5 },
            rooftops: [], camera:{x:0}, score:0, gameOver:false, keys:{}
        };
        let prevOnGround = false;

        function generateRooftops() {
            gameState.rooftops = [];
            for(let i=0;i<20;i++) gameState.rooftops.push({
                x:i*160+200, y:480-Math.random()*80, width:140+Math.random()*80, height:30
            });
        }

        // Input
        window.addEventOn('keydown', e=> {gameState.keys[e.code]=true; initAudio();});
        window.addEventOn('keyup', e=> gameState.keys[e.code]=false);
        canvas.addEventListener('touchstart', e=>{ e.preventDefault(); initAudio();
            if(gameState.gameOver) resetGame();
            else if(gameState.cat.onGround){ gameState.cat.vy=gameState.cat.jumpPower; gameState.cat.onGround=false; playJumpSound(); }
        }, {passive:false});

        // Draw cat (now your gorgeous image with a soft glow)
        function drawCat(cat) {
            const x = cat.x - gameState.camera.x;
            const y = cat.y;
            ctx.save();
            ctx.shadowColor = '#ffffff';
            ctx.shadowBlur = 25;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            ctx.drawImage(catImg, x-10, y-10, cat.width+20, cat.height+20); // slight enlargement + glow
            ctx.restore();
        }

        function drawRooftop(r) {
            const rx = r.x - gameState.camera.x;
            ctx.fillStyle = '#8B4513'; ctx.fillRect(rx, r.y, r.width, r.height);
            ctx.fillStyle = '#A0522D'; ctx.fillRect(rx, r.y-5, r.width, 5);
            ctx.fillStyle = '#654321';
            for(let i=0;i<r.width;i+=20) ctx.fillRect(rx+i, r.y, 10, 5);
        }

        function update() {
            if(gameState.gameOver){
                if(gameState.keys['Space']||gameState.keys['ArrowUp']) resetGame();
                return;
            }
            prevOnGround = gameState.cat.onGround;

            if((gameState.keys['Space']||gameState.keys['ArrowUp'])&&gameState.cat.onGround){
                gameState.cat.vy = gameState.cat.jumpPower;
                gameState.cat.onGround = false;
                playJumpSound();
            }

            gameState.cat.vy += gameState.cat.gravity;
            gameState.cat.y += gameState.cat.vy;
            gameState.cat.x += gameState.cat.speed;

            gameState.camera.x = Math.max(0, gameState.cat.x - canvas.width/2);

            gameState.cat.onGround = false;
            for(let r of gameState.rooftops){
                if(gameState.cat.x+gameState.cat.width > r.x && gameState.cat.x < r.x+r.width &&
                   gameState.cat.y+gameState.cat.height > r.y && 
                   gameState.cat.y+gameState.cat.height-gameState.cat.vy <= r.y+5 && gameState.cat.vy>0){
                    gameState.cat.y = r.y - gameState.cat.height;
                    gameState.cat.vy = 0;
                    gameState.cat.onGround = true;
                    break;
                }
            }
            if(!prevOnGround && gameState.cat.onGround) playLandSound();

            if(gameState.rooftops[gameState.rooftops.length-1].x < gameState.camera.x + canvas.width + 300){
                gameState.rooftops.push({
                    x: gameState.rooftops.slice(-1)[0].x + 130 + Math.random()*50,
                    y: 480 - Math.random()*80,
                    width: 140 + Math.random()*80,
                    height: 30
                });
            }
            gameState.rooftops = gameState.rooftops.filter(r=>r.x > gameState.camera.x-200);

            if(gameState.cat.y > 700){ playFallSound(); gameState.gameOver=true; }

            gameState.score = Math.floor(gameState.camera.x/10);
            scoreElement.textContent = gameState.score;
        }

        function render(){
            ctx.clearRect(0,0,canvas.width,canvas.height);
            gameState.rooftops.forEach(drawRooftop);
            drawCat(gameState.cat);

            if(gameState.gameOver){
                ctx.fillStyle='rgba(0,0,0,0.7)'; ctx.fillRect(0,0,canvas.width,canvas.height);
                ctx.fillStyle='#fff'; ctx.font='48px Arial'; ctx.textAlign='center';
                ctx.fillText('You Fell!', canvas.width/2, canvas.height/2-50);
                ctx.font='24px Arial';
                ctx.fillText('SPACE / UP / TAP to Restart', canvas.width/2, canvas.height/2+20);
            }
        }

        function resetGame(){
            generateRooftops();
            gameState.cat.x = 100;
            gameState.cat.y = gameState.rooftops[0].y - gameState.cat.height;
            gameState.cat.vy = gameState.cat.vx = 0;
            gameState.cat.onGround = true;
            gameState.camera.x = gameState.score = 0;
            gameState.gameOver = false;
        }

        function gameLoop(){ update(); render(); requestAnimationFrame(gameLoop); }

        generateRooftops(); resetGame(); gameLoop();
    </script>
</body>
</html>
